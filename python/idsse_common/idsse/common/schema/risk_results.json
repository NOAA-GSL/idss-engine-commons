{
    "SingleValue": {
        "description": "Mechanism for storing the 'Single Value' result for a specific Condition/Location/Product(s)",
        "type": "object",
        "properties": {
            "criteria": {"type": "array", "items": {"type": "number"}, "minItems": 1},
            "raw": {"type": "array", "items": {"type": "number"}, "minItems": 1}
        },
        "required": [
            "criteria",
            "raw"
        ]
    },

    "ValueCount": {
        "description": "Value found in data and the number of time found",
        "type": "object",
        "patternProperties": {
            "^[-+]?[0-9]*[.]?[0-9]+$": {"type": "integer"},
            "[^0-9.+-]": {"not": {}}
        },
        "minProperties": 1
    },

    "DataType": {
        "type": "string", "enum": ["condition", "criteria", "raw"]
    },

    "Data": {
        "description": "Mechanism for storing the a contiguous state (when the criteria is met or not met",
        "type": "object",
        "properties": {
            "name": {"type": "string"},
            "type": {"$ref": "#/DataType"},
            "singleValue": {
                "type": "array",
                "items": {"type": "number"}
            },
            "geoDist": {
                "type": "array",
                "items": {"$ref": "#/ValueCount"}
            }
        },
        "required": [
            "name",
            "type",
            "singleValue",
            "geoDist"
        ]
    },

    "State": {
        "description": "Mechanism for storing the a contiguous state (when the criteria is met or not met",
        "type": "object",
        "properties": {
            "criteriaMet": {         
                "oneOf" : [
                    {"type": "boolean"},
                    {"type": "string", "enum": ["true", "false"]}
                ]
            },
            "startDt": {"$ref": "timing.json#/TimeString"},
            "endDt": {"$ref": "timing.json#/TimeString"},
            "durationInMin": {"type": "integer"},
            "min": {"type": "number"},
            "max": {"type": "number"},
            "minAt": {"$ref": "timing.json#/TimeString"},
            "maxAt": {"$ref": "timing.json#/TimeString"}
        },
        "required": [
            "criteriaMet",
            "startDt",
            "endDt",
            "durationInMin",
            "min",
            "max",
            "minAt",
            "maxAt"
        ]
    }, 

    "MetaData": {
        "description": "Mechanism for storing the list of State Objects, these describe the met/notMet states for the full time frame",
        "type": "object",
        "properties": {
            "name": {"type": "string"},
            "type": {"$ref": "#/DataType"},
            "states": {
                "type": "array",
                "items": {"$ref": "#/State"},
                "minItems": 1        
            }
        },
        "required": [
            "name",
            "type",
            "states"
        ]
    },

    "RiskResults": {
        "description": "Mechanism for storing the result from the Risk Processor",
        "type": "object",
        "properties": {
            "conditionKey": {"type": "string"},
            "locationKey": {"type": "string"},
            "productKey": {"type": "string"},
            "validDt": {"type": "array", "items": {"$ref": "timing.json#/TimeString"}, "minItems": 1},
            "data": {"type": "array", "items": {"$ref": "#/Data"}, "minItems": 2},
            "metaData": {"type": "array", "items": {"$ref": "#/MetaData"}, "minItems": 1}
        },
        "required": [
            "conditionKey",
            "locationKey",
            "productKey",                    
            "validDt",
            "data",
            "metaData"
        ]
    }
}